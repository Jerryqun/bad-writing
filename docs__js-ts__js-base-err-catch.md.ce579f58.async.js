"use strict";(self.webpackChunkblog_cq=self.webpackChunkblog_cq||[]).push([[787],{83741:function(o,r,t){t.r(r);var a=t(72269),_=t(93359),x=t(61788),h=t(19977),j=t(91558),d=t(24268),s=t(96057),m=t(85939),i=t(53683),l=t(80936),u=t(67294),e=t(65225),n=t(85893);function c(){return(0,n.jsx)(i.dY,{children:(0,n.jsx)(u.Suspense,{fallback:(0,n.jsx)(l.Z,{}),children:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"markdown",children:[(0,n.jsxs)("h2",{id:"\u9519\u8BEF\u6355\u83B7",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u9519\u8BEF\u6355\u83B7",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u9519\u8BEF\u6355\u83B7"]}),(0,n.jsxs)(s.Z,{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:e.texts[0].value}),(0,n.jsx)("th",{children:e.texts[1].value}),(0,n.jsx)("th",{children:e.texts[2].value}),(0,n.jsx)("th",{children:e.texts[3].value}),(0,n.jsx)("th",{children:e.texts[4].value}),(0,n.jsx)("th",{children:e.texts[5].value})]})}),(0,n.jsxs)("tbody",{children:[(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.texts[6].value}),(0,n.jsx)("td",{children:e.texts[7].value}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:e.texts[8].value})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.texts[9].value}),(0,n.jsx)("td",{children:e.texts[10].value}),(0,n.jsx)("td",{children:e.texts[11].value}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.texts[12].value}),(0,n.jsx)("td",{children:e.texts[13].value}),(0,n.jsx)("td",{children:e.texts[14].value}),(0,n.jsx)("td",{children:e.texts[15].value}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{})]}),(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.texts[16].value}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{}),(0,n.jsx)("td",{children:e.texts[17].value}),(0,n.jsx)("td",{})]})]})]}),(0,n.jsx)(d.Z,{lang:"js",children:e.texts[18].value}),(0,n.jsxs)("h2",{id:"\u5168\u5C40\u76D1\u542C-promise-\u9519\u8BEF",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u5168\u5C40\u76D1\u542C-promise-\u9519\u8BEF",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u5168\u5C40\u76D1\u542C promise \u9519\u8BEF"]}),(0,n.jsx)(d.Z,{lang:"js",children:e.texts[19].value}),(0,n.jsxs)("h2",{id:"try-catch-\u65E0\u6CD5\u6355\u83B7\u5F02\u6B65\u4EFB\u52A1-\u5982\u4F55\u5728-catch-\u91CC\u9762\u6355\u83B7-promise-\u7684-reject",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#try-catch-\u65E0\u6CD5\u6355\u83B7\u5F02\u6B65\u4EFB\u52A1-\u5982\u4F55\u5728-catch-\u91CC\u9762\u6355\u83B7-promise-\u7684-reject",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"try catch \u65E0\u6CD5\u6355\u83B7\u5F02\u6B65\u4EFB\u52A1 \uFF0C\u5982\u4F55\u5728 catch \u91CC\u9762\u6355\u83B7 promise \u7684 reject"]}),(0,n.jsx)(d.Z,{lang:"js",children:e.texts[20].value})]})})})})}r.default=c},65225:function(o,r,t){t.r(r),t.d(r,{texts:function(){return a}});const a=[{value:"\u5F02\u5E38\u7C7B\u578B",paraId:0,tocIndex:0},{value:"\u540C\u6B65\u65B9\u6CD5",paraId:0,tocIndex:0},{value:"\u5F02\u6B65\u65B9\u6CD5",paraId:0,tocIndex:0},{value:"\u8D44\u6E90\u52A0\u8F7D",paraId:0,tocIndex:0},{value:"Promise",paraId:0,tocIndex:0},{value:"async/await",paraId:0,tocIndex:0},{value:"try/catch",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"window.onerror",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"window.addEventListener('error')",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:"window.addEventListener('unhandledrejection')",paraId:0,tocIndex:0},{value:"\u221A",paraId:0,tocIndex:0},{value:`/**
 * try-catch \u53EA\u80FD\u6355\u83B7\u5230\u540C\u6B65\u7684\u8FD0\u884C\u65F6\u9519\u8BEF\uFF0C\u5BF9\u5F02\u6B65\u9519\u8BEF\u548C\u8BED\u6CD5\u5374\u65E0\u80FD\u4E3A\u529B\uFF0C\u6355\u83B7\u4E0D\u5230\u3002
 */

try {
  let name = "jartto";
  console.log(nam);
} catch (e) {
  console.log("\u6355\u83B7\u5230\u5F02\u5E38\uFF1A", e);
}

// \u8F93\u51FA \u6355\u83B7\u5230\u5F02\u5E38\uFF1AReferenceError: nam is not defined    at :x:xx

async function a() {
  try {
      await Promise.reject('err')
      console.log('\u8FD9\u91CC\u4E0D\u6267\u884C\u4E86');
  } catch (e) {
      console.log("\u6355\u83B7\u5230\u5F02\u5E38\uFF1A", e);
  }
}
a() // \u8F93\u51FA \u6355\u83B7\u5230\u5F02\u5E38\uFF1A err

function a() {
  try {
      new Promise((resolve) => {
          setTimeout(() => {
              const a = '';
              a()
          }, 2000)
      })
      console.log('\u8FD9\u91CC\u6267\u884C\u54E6');
  } catch (e) {
      console.log("\u6355\u83B7\u5230\u5F02\u5E38\uFF1A", e);
  }
}
a() // \u6355\u83B7\u4E0D\u5230\u5F02\u5E38 \u4E24\u79D2\u540E\u63A7\u5236\u53F0\u51FA\u73B0 Uncaught TypeError: a is not a function


function getUserInfo() {
  return new Promise((resolve, reject) => {
      setTimeout(() => {
          reject('\u8BF7\u6C42\u5F02\u5E38')
      }, 1000)
  })
}

async function logined() {
  let userInfo = await getUserInfo().catch(e => console.log(e))
  // \u6267\u884C\u6CA1\u6709\u4E2D\u65AD\uFF0CuserInfo \u4E3A undefined
  console.log('\u8FD9\u91CC\u6267\u884C\u54E6')
  if (!userInfo) return // \u9700\u8981\u505A\u975E\u7A7A\u6821\u9A8C
}

logined()  //\u8F93\u51FA \u8BF7\u6C42\u5F02\u5E38   \u8FD9\u91CC\u6267\u884C\u54E6


function getUserInfo() {
  return new Promise((resolve, reject) => {
      setTimeout(() => {
          reject('\u8BF7\u6C42\u5F02\u5E38')
      }, 1000)
  })
}

async function logined() {
  let userInfo = await getUserInfo().catch(e => {
      console.log(e)
      return Promise.reject(e) // \u4F1A\u5BFC\u81F4\u63A7\u5236\u53F0\u51FA\u73B0 uncaught (in promise) \u62A5\u9519\u4FE1\u606F
  })
  // \u6267\u884C\u4E2D\u65AD
  console.log('\u8FD9\u884C\u4EE3\u7801\u4E0D\u6267\u884C\u4E86')
}

logined() //\u8F93\u51FA \u8BF7\u6C42\u5F02\u5E38



/**
 * \u5220\u6389\u4E00\u4E2A\u5F15\u53F7
 */
try {
    let name = "jartto;
    console.log(nam);
  } catch (e) {
    console.log("\u6355\u83B7\u5230\u5F02\u5E38\uFF1A", e);
  }

  // \u65E0\u6CD5\u6355\u83B7\u8BED\u6CD5\u9519\u8BEF \u76F4\u63A5\u8F93\u51FA Uncaught SyntaxError: Invalid or unexpected token

  /**
   * \u65E0\u6CD5\u6355\u83B7\u5F02\u6B65\u9519\u8BEF
   * \u4E0B\u9762\u4F8B\u5B50\u5747\u65E0\u6CD5\u6355\u83B7
   */

  try { setTimeout(() => { undefined.map(v => v); }, 1000) } catch (e) { console.log('\u6355\u83B7\u5230\u5F02\u5E38\uFF1A', e); }
    // \u65E0\u6CD5\u6355\u83B7\u5230\u5F02\u5E38\uFF1A\u76F4\u63A5\u63A7\u5236\u53F0\u62A5\u9519 error.html:17 Uncaught TypeError: Cannot read properties of undefined (reading 'map')

  try { Promise.reject(11) } catch (e) { console.log('\u6355\u83B7\u5230\u5F02\u5E38\uFF1A', e); }


  try {
    new Promise((resolve, reject) => {
        setTimeout(() => {
            reject('11')
        }, 100);

    })
} catch (e) { console.log('\u6355\u83B7\u5230\u5F02\u5E38\uFF1A', e); }


`,paraId:1,tocIndex:0},{value:`// \u6D4F\u89C8\u5668
window.addEventListener('unhandledrejection', (event) => {
  const {
    error, // \u9519\u8BEF\u5BF9\u8C61
    promise, // \u51FA\u73B0\u5F02\u5E38\u7684promise\u5BF9\u8C61
  } = event;
  console.log(error, promise);
  event.preventDefault();
});

// node
process.on('unhandledRejection', (error, promise) => {
  console.log(error, promise);
});
`,paraId:2,tocIndex:1},{value:`window.addEventListener('unhandledrejection', async function (err) {
  console.log('unhandledrejection', err.reason);
});

async function a() {
  try {
    const result = await Promise.reject({ a: 1 });
    // \u5982\u679C\u662Fawait \u7684\u72B6\u6001\u662Freject \uFF0C\u540E\u9762\u7684\u4EE3\u7801\u4E0D\u4F1A\u6267\u884C\uFF0C\u800C\u4E14await \u540E\u9762\u7684\u9519\u8BEF\u4F1A\u88ABcatch\u5230
    console.log('result23:2323333 ', result);
  } catch (e) {
    console.log('e: ', e);
  }
}

a();
`,paraId:3,tocIndex:2}]}}]);

---
nav: 面试
group:
  title: 面试
  order: 1
toc: content
title: 面试题
mobile: false
---

## 短轮询、长轮询和 WebSocket 间的区别？

### 短轮询

短轮询的基本思路:

浏览器每隔一段时间向浏览器发送 http 请求，服务器端在收到请求后，不论是否有数据更新，都直接进行 响应。
这种方式实现的即时通信，本质上还是浏览器发送请求，服务器接受请求的一个过程，通过让客户端不断的进行请求，使得客户端能够模拟实时地收到服务器端的数据的变化。
优缺点 👇

优点是比较简单，易于理解。
缺点是这种方式由于需要不断的建立 http 连接，严重浪费了服务器端和客户端的资源。当用户增加时，服务器端的压力就会变大，这是很不合理的。 2. 长轮询

### 长轮询的基本思路:

首先由客户端向服务器发起请求，当服务器收到客户端发来的请求后，服务器端不会直接进行响应，而是先将 这个请求挂起，然后判断服务器端数据是否有更新。
如果有更新，则进行响应，如果一直没有数据，则到达一定的时间限制才返回。客户端 JavaScript 响应处理函数会在处理完服务器返回的信息后，再次发出请求，重新建立连接。
优缺点 👇

长轮询和短轮询比起来，它的优点是明显减少了很多不必要的 http 请求次数，相比之下节约了资源。
长轮询的缺点在于，连接挂起也会导致资源的浪费 3. WebSocket

### WebSocket

WebSocket 是 Html5 定义的一个新协议，与传统的 http 协议不同，该协议允许由服务器主动的向客户端推送信息。
使用 WebSocket 协议的缺点是在服务器端的配置比较复杂。WebSocket 是一个全双工的协议，也就是通信双方是平等的，可以相互发送消息。

## TCP 如何保证数据包的顺序、可靠传输

1、对字节流分段并进行编号然后通过<br/>
2、ACK 回复和超时重发这两个机制来保证<br/>

（1）为了保证数据包的可靠传递，发送方必须把已发送的数据包保留在缓冲区； （2）并为每个已发送的数据包启动一个超时定时器； （3）如在定时器超时之前收到了对方发来的应答信息（可能是对本包的应答，也可以是对本包后续包的应答），则释放该数据包占用的缓冲区; （4）否则，重传该数据包，直到收到应答或重传次数超过规定的最大次数为止。 （5）接收方收到数据包后，先进行 CRC 校验，如果正确则把数据交给上层协议，然后给发送方发送一个累计应答包，表明该数据已收到，如果接收方正好也有数据要发给发送方，应答包也可方在数据包中捎带过去。

## TCP 和 UDP 的区别

1、TCP 面向连接 UDP 面向非连接<br/>
2、TCP 单项传播 UDP 提供了单播，多播，广播的功能<br/>
3、TCP 面向连接 三次握手和四次挥手 保证数据的可靠顺序传播 UDP 是一种不可靠的无连接传输协议<br/>
4、UDP 的头部开销比 TCP 的更小，数据传输速率更高，实时性更好<br/>

UDP 多用于直播、游戏<br/>

## GET 请求和 POST 请求的区别

1、post 请求参数在请求体里面 get 请求携带在 url 后面<br/>
2、post 请求向服务器发送数据 get 请求是获取数据<br/>
3、get 请求携带的参数有长度限制 post 没有<br/>
4、get 请求携带的参数只能是字符串，post 要多，可以是 json 或者文件等<br/>
5、刷新和回退的时候 GET 请求无害，POST 数据会被重新提交<br/>
6、post 请求相对安全<br/>

## HTTP 和 TCP 的不同

HTTP 是应用层协议，是对两台计算机之间传输图片、文字、媒体信息等超文本数据定义了规范和约束，也就是怎么传输数据<br/>
TCP 是传输层协议，规定了怎么才能把数据完整无误的传输到另外一台计算机<br/>

## HTTP1.0，HTTP1.1 的区别

1、缓存处理：多了 Entity tag，If-Unmodified-Since, If-Match, If-None-Match Cache-Control 等缓存信息（HTTTP1.0 If-Modified-Since,Expires,Exprires 的值为服务端返回的数据到期时间。当再次请求时的请求时间小于返回的此时间，则直接使用缓存数据。但由于服务端时间和客户端时间可能有误差，这也将导致缓存命中的误差）

Cache-Control 值
private：客户端可以缓存
public：客户端和代理服务器都可以缓存
max-age=t：缓存内容将在 t 秒后失效
no-cache：需要使用协商缓存来验证缓存数据
no-store：所有内容都不会缓存

2、带宽优化及网络连接的使用

3、错误通知的管理

4、Host 头处理

5、长连接： HTTP1.1 中默认开启 Connection： keep-alive，一定程度上弥补了 HTTP1.0 每次请求都要创建连接的缺点。

## 相对于 HTTP1.1，HTTP2 的优化

1、HTTP2 支持二进制传送（实现方便且健壮），HTTP1.x 是字符串传送<br/>
2、HTTP2 支持多路复用<br/>
3、HTTP2 采用 HPACK 压缩算法压缩头部，减小了传输的体积<br/>
4、HTTP2 支持服务端推送 WebSocket<br/>

## 说下 websocket 的连接原理

WebSocket 是一种基于 TCP 协议的双向通信协议，它可以在客户端和服务器之间建立持久性的连接，实现实时的数据传输和交互。其主要原理如下：

利用 HTTP 建立连接：WebSocket 的连接需要通过 HTTP 请求首先建立握手（Handshaking）过程，该过程类似于普通的 HTTP 请求，但包含了一些特殊的头部字段，例如 Upgrade 和 Connection 等。

建立 TCP 连接：建立 HTTP 连接之后，客户端和服务器之间会建立一个 TCP 连接，并交换协商的加密和压缩参数等。

双向通信：建立好 TCP 连接之后，就可以进行双向通信了。客户端和服务器都可以在任意时刻发送消息，并且不需要发送 HTTP 请求或响应，而是直接通过已经建立好的连接进行数据的传递和处理。

断开连接：当双方其中一方决定关闭连接时，会发送一个特殊的控制帧（Close Frame），告知对方关闭连接。

需要注意的是，在 WebSocket 的连接过程中，由于需要进行 Handshaking 过程，因此第一次连接较慢。同时，在建立连接之后，需要保持长时间的连接状态，因此需要考虑网络稳定性、负载均衡和错误重试等问题，以保证连接的可靠性和稳定性。

WebSocket 是一种基于 TCP 的双向通信协议，通过建立长时间的持久连接来实现客户端和服务器之间的实时数据传输和交互。它在实时性、效率和安全性等方面都有很大的优势，适用于在线游戏、即时聊天、实时监控等领域。

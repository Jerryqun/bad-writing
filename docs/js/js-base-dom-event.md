---
nav: Js
group: 基础概念
toc: content
title: 冒泡和捕获的具体过程
---

## 冒泡和捕获的具体过程

dom 事件流：
事件发生时会在元素节点之间按照特定的顺序传播，这个传播过程就叫做 DOM 事件流。
注意 ⚠️：JS 代码只能执行捕获或者冒泡其中一个阶段，要么是捕获要么是冒泡

冒泡：target => body => html => document
捕获：document => html => body => target
事件委托就是利用了冒泡，页面中的事件流也分为三个阶段：事件捕获 => target => 事件冒泡

首先，事件流处于捕获阶段，从外到内触发 dom 绑定的捕获事件，对同一个 DOM，通过 addEventListener 绑定的捕获函数会按绑定的顺序触发。
然后，事件进入到目标阶段，这个阶段不区分捕获和冒泡事件，所有事件按照绑定的顺序触发。
最后，事件进入到冒泡阶段，这个阶段按照绑定的顺序触发绑定的冒泡事件，各个 DOM 的事件是从内到外触发的

## 触摸事件的响应顺序

ontouchstart -> ontouchmove -> ontouchend -> onclick

## e.target 和 e.currentTarget 有什么区别？

e.target：触发事件的元素  
e.currentTarget：绑定事件的元素

## 不会冒泡的事件有哪些
在 JavaScript 和浏览器中，绝大多数事件都会按照 DOM 事件流模型冒泡，即事件会从目标元素开始向上冒泡到它的父元素，并最终到达 document 元素。然而，也有一些事件是不会冒泡的。这些事件通常直接在目标元素上触发，并不会向上传播。

以下是一些不会冒泡的事件的示例：

focus：当元素获得焦点时触发，例如通过键盘或鼠标点击。这是一个不会冒泡的事件。

blur：当元素失去焦点时触发。这也是一个不会冒泡的事件。

focusin：与 focus 类似，但会在元素或其父元素上触发（冒泡），因此这个事件是特例。

focusout：与 blur 类似，但会在元素或其父元素上触发（冒泡），因此这个事件是特例。

load：当图像、音频、视频或其他资源加载完成时触发。例如，在 img 元素上触发的 load 事件不会冒泡。

unload：当页面即将被导航离开时触发。这通常用于执行清理工作，也不会冒泡。

stop：通常与 media 元素相关，例如 audio 或 video 元素。这是在媒体播放停止时触发的事件。

readystatechange：当 document 的 readyState 改变时触发。这通常在页面加载时使用。

scroll：当元素滚动时触发。这个事件在某些浏览器中可能会冒泡，但在其他浏览器中通常不会冒泡。

这些事件通常直接在目标元素上触发，并且不会传播到父元素上。

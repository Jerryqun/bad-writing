"use strict";(self.webpackChunkblog_cq=self.webpackChunkblog_cq||[]).push([[5522],{55502:function(i,s,t){t.r(s);var l=t(72269),u=t(93359),x=t(61788),p=t(19977),g=t(91558),a=t(24268),h=t(96057),v=t(85939),r=t(53683),d=t(80936),o=t(67294),n=t(73899),e=t(85893);function c(){return(0,e.jsx)(r.dY,{children:(0,e.jsx)(o.Suspense,{fallback:(0,e.jsx)(d.Z,{}),children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"markdown",children:[(0,e.jsxs)("h2",{id:"\u524D\u8A00",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u524D\u8A00",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u524D\u8A00"]}),(0,e.jsxs)("p",{children:[n.texts[0].value,(0,e.jsx)("a",{href:"https://juejin.cn/book/7307859898316881957/section/7308914342949290022",children:n.texts[1].value}),n.texts[2].value,(0,e.jsx)("a",{href:"https://juejin.cn/book/7307859898316881957/section/7309112133474582578#heading-0",children:n.texts[3].value}),n.texts[4].value]}),(0,e.jsx)("p",{children:n.texts[5].value}),(0,e.jsx)("p",{children:n.texts[6].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3534f89cfe6c496889247ec6992c974b~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1007&h=585&s=81041&e=gif&f=43&b=fefefe",alt:"7.gif"})}),(0,e.jsxs)("p",{children:[n.texts[7].value,(0,e.jsx)("code",{children:n.texts[8].value}),n.texts[9].value,(0,e.jsx)("code",{children:n.texts[10].value}),n.texts[11].value]}),(0,e.jsxs)("h2",{id:"react-i18next",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#react-i18next",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"react-i18next"]}),(0,e.jsxs)("h3",{id:"1-\u65B0\u5EFA\u6587\u4EF6\u5939",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#1-\u65B0\u5EFA\u6587\u4EF6\u5939",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"1. \u65B0\u5EFA\u6587\u4EF6\u5939"]}),(0,e.jsxs)("p",{children:[n.texts[12].value,(0,e.jsx)("code",{children:n.texts[13].value}),n.texts[14].value,(0,e.jsx)("code",{children:n.texts[15].value}),n.texts[16].value,(0,e.jsx)("code",{children:n.texts[17].value}),n.texts[18].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4f6d12aea83e4f648c6c0571bcc94796~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1962&h=432&s=169371&e=png&b=231f2a",alt:"image.png"})}),(0,e.jsxs)("p",{children:[n.texts[19].value,(0,e.jsx)("a",{href:"http://localhost:3000/xxx/posts%EF%BC%8C%E6%AF%94%E5%A6%82%EF%BC%9A",children:n.texts[20].value})]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5aa77f9f0b334810a5da3131b96aa8be~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1352&h=726&s=81522&e=png&b=ffffff",alt:"image.png"})}),(0,e.jsxs)("p",{children:[n.texts[21].value,(0,e.jsx)("code",{children:n.texts[22].value}),n.texts[23].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[24].value}),(0,e.jsx)("p",{children:n.texts[25].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5adfac0d002e4e90aed7f2bfb6a4702f~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1165&h=492&s=50004&e=gif&f=17&b=fefefe",alt:"8.gif"})}),(0,e.jsxs)("h3",{id:"2-\u6DFB\u52A0\u5168\u5C40-i18n-\u914D\u7F6E",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#2-\u6DFB\u52A0\u5168\u5C40-i18n-\u914D\u7F6E",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"2. \u6DFB\u52A0\u5168\u5C40 i18n \u914D\u7F6E"]}),(0,e.jsxs)("p",{children:[n.texts[26].value,(0,e.jsx)("code",{children:n.texts[27].value}),n.texts[28].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[29].value}),(0,e.jsx)("p",{children:n.texts[30].value}),(0,e.jsx)("p",{children:n.texts[31].value}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[32].value}),(0,e.jsxs)("p",{children:[n.texts[33].value,(0,e.jsx)("code",{children:n.texts[34].value}),n.texts[35].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[36].value}),(0,e.jsxs)("h3",{id:"3-\u4E2D\u95F4\u4EF6\u8BBE\u7F6E",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#3-\u4E2D\u95F4\u4EF6\u8BBE\u7F6E",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"3. \u4E2D\u95F4\u4EF6\u8BBE\u7F6E"]}),(0,e.jsxs)("p",{children:[n.texts[37].value,(0,e.jsx)("a",{href:"https://www.npmjs.com/package/accept-language",children:n.texts[38].value}),n.texts[39].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[40].value}),(0,e.jsx)("p",{children:n.texts[41].value}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[42].value}),(0,e.jsxs)("p",{children:[n.texts[43].value,(0,e.jsx)("code",{children:n.texts[44].value}),n.texts[45].value,(0,e.jsx)("code",{children:n.texts[46].value}),n.texts[47].value]}),(0,e.jsxs)("p",{children:[n.texts[48].value,(0,e.jsx)("code",{children:n.texts[49].value}),n.texts[50].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[51].value}),(0,e.jsxs)("p",{children:[n.texts[52].value,(0,e.jsx)("code",{children:n.texts[53].value}),n.texts[54].value,(0,e.jsx)("code",{children:n.texts[55].value}),n.texts[56].value,(0,e.jsx)("code",{children:n.texts[57].value}),n.texts[58].value,(0,e.jsx)("code",{children:n.texts[59].value}),n.texts[60].value]}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/07e405ff063f4bada2b1f499f85eacc0~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1165&h=509&s=203417&e=gif&f=42&b=fefefe",alt:"9.gif"})}),(0,e.jsxs)("h3",{id:"4-\u914D\u7F6E\u7FFB\u8BD1\u6587\u4EF6",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#4-\u914D\u7F6E\u7FFB\u8BD1\u6587\u4EF6",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"4. \u914D\u7F6E\u7FFB\u8BD1\u6587\u4EF6"]}),(0,e.jsx)("p",{children:n.texts[61].value}),(0,e.jsx)("p",{children:n.texts[62].value}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[63].value}),(0,e.jsxs)("p",{children:[n.texts[64].value,(0,e.jsx)("code",{children:n.texts[65].value}),n.texts[66].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[67].value}),(0,e.jsx)("p",{children:n.texts[68].value}),(0,e.jsx)(a.Z,{lang:"markdown",children:n.texts[69].value}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[70].value}),n.texts[71].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[72].value}),(0,e.jsxs)("p",{children:[(0,e.jsx)("code",{children:n.texts[73].value}),n.texts[74].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[75].value}),(0,e.jsxs)("p",{children:[n.texts[76].value,(0,e.jsx)("code",{children:n.texts[77].value}),n.texts[78].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[79].value}),(0,e.jsxs)("h3",{id:"5-\u670D\u52A1\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#5-\u670D\u52A1\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"5. \u670D\u52A1\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1"]}),(0,e.jsxs)("p",{children:[n.texts[80].value,(0,e.jsx)("code",{children:n.texts[81].value}),n.texts[82].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[83].value}),(0,e.jsx)("p",{children:n.texts[84].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8ac506824d4645a6972e21b2b59565d7~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1168&h=429&s=57778&e=gif&f=25&b=fefefe",alt:"10.gif"})}),(0,e.jsxs)("h3",{id:"6-\u5BA2\u6237\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#6-\u5BA2\u6237\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"6. \u5BA2\u6237\u7AEF\u7EC4\u4EF6\u4F7F\u7528\u7FFB\u8BD1"]}),(0,e.jsx)("p",{children:n.texts[85].value}),(0,e.jsx)("p",{children:n.texts[86].value}),(0,e.jsx)(a.Z,{lang:"bash",children:n.texts[87].value}),(0,e.jsxs)("p",{children:[n.texts[88].value,(0,e.jsx)("code",{children:n.texts[89].value}),n.texts[90].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[91].value}),(0,e.jsxs)("p",{children:[n.texts[92].value,(0,e.jsx)("code",{children:n.texts[93].value}),n.texts[94].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[95].value}),(0,e.jsxs)("p",{children:[n.texts[96].value,(0,e.jsx)("code",{children:n.texts[97].value}),n.texts[98].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[99].value}),(0,e.jsx)("p",{children:n.texts[100].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/556b929fcdab46919d641c7de94fdc54~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1168&h=429&s=79268&e=gif&f=25&b=fefefe",alt:"11.gif"})}),(0,e.jsx)("p",{children:n.texts[101].value}),(0,e.jsxs)("h3",{id:"7-\u6DFB\u52A0\u8BED\u8A00\u5207\u6362\u5668",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#7-\u6DFB\u52A0\u8BED\u8A00\u5207\u6362\u5668",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"7. \u6DFB\u52A0\u8BED\u8A00\u5207\u6362\u5668"]}),(0,e.jsxs)("p",{children:[n.texts[102].value,(0,e.jsx)("code",{children:n.texts[103].value}),n.texts[104].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[105].value}),(0,e.jsxs)("p",{children:[n.texts[106].value,(0,e.jsx)("code",{children:n.texts[107].value}),n.texts[108].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[109].value}),(0,e.jsx)("p",{children:n.texts[110].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/eab3d098da15489880a402a3fdf06e80~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=956&h=430&s=89068&e=gif&f=42&b=fefefe",alt:"12.gif"})}),(0,e.jsxs)("h3",{id:"8-metadata-\u5982\u4F55\u751F\u6210",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#8-metadata-\u5982\u4F55\u751F\u6210",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"8. Metadata \u5982\u4F55\u751F\u6210\uFF1F"]}),(0,e.jsx)("p",{children:n.texts[111].value}),(0,e.jsxs)("p",{children:[n.texts[112].value,(0,e.jsx)("code",{children:n.texts[113].value}),n.texts[114].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[115].value}),(0,e.jsxs)("p",{children:[n.texts[116].value,(0,e.jsx)("code",{children:n.texts[117].value}),n.texts[118].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[119].value}),(0,e.jsxs)("p",{children:[n.texts[120].value,(0,e.jsx)("code",{children:n.texts[121].value}),n.texts[122].value]}),(0,e.jsx)(a.Z,{lang:"js",children:n.texts[123].value}),(0,e.jsx)("p",{children:n.texts[124].value}),(0,e.jsx)("p",{children:(0,e.jsx)("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7b034d590b7b4cf694419db7a30647ad~tplv-k3u1fbpfcp-jj-mark:0:0:0:0:q75.image#?w=1366&h=539&s=718243&e=gif&f=49&b=2b2b2a",alt:"13.gif"})}),(0,e.jsx)("p",{children:n.texts[125].value}),(0,e.jsxs)("h2",{id:"\u9879\u76EE\u6E90\u7801",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u9879\u76EE\u6E90\u7801",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u9879\u76EE\u6E90\u7801"]}),(0,e.jsx)("blockquote",{children:(0,e.jsxs)("ol",{children:[(0,e.jsx)("li",{children:n.texts[126].value}),(0,e.jsxs)("li",{children:[n.texts[127].value,(0,e.jsx)("a",{href:"https://github.com/mqyqingfeng/next-app-demo/tree/next-blog-4",children:n.texts[128].value})]}),(0,e.jsxs)("li",{children:[n.texts[129].value,(0,e.jsx)("code",{children:n.texts[130].value})]})]})}),(0,e.jsxs)("h2",{id:"\u603B\u7ED3",children:[(0,e.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u603B\u7ED3",children:(0,e.jsx)("span",{className:"icon icon-link"})}),"\u603B\u7ED3"]}),(0,e.jsxs)("p",{children:[n.texts[131].value,(0,e.jsx)("a",{href:"https://juejin.cn/book/7307859898316881957/section/7309112133474582578#heading-0",children:n.texts[132].value}),n.texts[133].value]})]})})})})}s.default=c},73899:function(i,s,t){t.r(s),t.d(s,{texts:function(){return l}});const l=[{value:"\u5728",paraId:0,tocIndex:0},{value:"\u300A\u8DEF\u7531\u7BC7 | \u56FD\u9645\u5316\u300B",paraId:0,tocIndex:0},{value:"\u6211\u4EEC\u8BB2\u89E3\u4E86\u56FD\u9645\u5316\u7684\u57FA\u672C\u539F\u7406\uFF0C\u4F46\u5728\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u6211\u4EEC\u5F80\u5F80\u4F1A\u4F7F\u7528 react-i18next \u6216\u8005 next-intl \u8F85\u52A9\u6211\u4EEC\u5F00\u53D1\u3002\u5728",paraId:0,tocIndex:0},{value:"\u300A\u5B9E\u6218\u7BC7 | React Notes | \u56FD\u9645\u5316\u300B",paraId:0,tocIndex:0},{value:"\u4E2D\uFF0C\u6211\u4EEC\u5206\u522B\u5BF9\u8FD9\u4E24\u79CD\u6280\u672F\u9009\u578B\u8FDB\u884C\u4E86\u8BB2\u89E3\u3002",paraId:0,tocIndex:0},{value:"\u5176\u4E2D\uFF0C react-i18next \u81EA\u7531\u5EA6\u9AD8\uFF0C\u4F46\u914D\u7F6E\u76F8\u5BF9\u7E41\u7410\u3002next-intl \u81EA\u7531\u5EA6\u4F4E\uFF0C\u4F46\u914D\u7F6E\u7B80\u5355\u7701\u4E8B\u3002\u672C\u7BC7\u6211\u4EEC\u4F7F\u7528 react-i18next \u6765\u5B9E\u73B0\u56FD\u9645\u5316\u3002",paraId:1,tocIndex:0},{value:"\u6211\u4EEC\u60F3\u8981\u5B9E\u73B0\u7684\u6548\u679C\u5982\u4E0B\uFF1A",paraId:2,tocIndex:0},{value:"\u9875\u9762\u53F3\u4E0A\u89D2\u6DFB\u52A0\u4E00\u4E2A\u8BED\u8A00\u5207\u6362\u5668\uFF0C\u6709\u4E2D\u6587\u548C\u82F1\u6587\u4E24\u79CD\u8BED\u8A00\uFF0C\u9ED8\u8BA4\u662F\u4E2D\u6587\u3002\u4EE5\u535A\u5BA2\u5217\u8868\u9875\u9762\u5730\u5740\u4E3A\u4F8B\uFF0C\u4E2D\u6587\u9875\u9762\u5730\u5740\u662F ",paraId:3,tocIndex:0},{value:"http://localhost:3000/posts",paraId:3,tocIndex:0},{value:"\uFF0C\u82F1\u6587\u9875\u9762\u5730\u5740\u4E3A ",paraId:3,tocIndex:0},{value:"http://localhost:3000/en/posts",paraId:3,tocIndex:0},{value:"\u3002\u5F53\u70B9\u51FB\u5207\u6362\u8BED\u8A00\u7684\u65F6\u5019\uFF0C\u9875\u9762\u65E0\u5237\u65B0\uFF0C\u76F4\u63A5\u5B9E\u73B0\u5207\u6362\u3002",paraId:3,tocIndex:0},{value:"\u5728 ",paraId:4,tocIndex:2},{value:"app",paraId:4,tocIndex:2},{value:" \u76EE\u5F55\u4E0B\u6DFB\u52A0\u4E00\u4E2A\u540D\u4E3A ",paraId:4,tocIndex:2},{value:"[lng]",paraId:4,tocIndex:2},{value:" \u7684\u6587\u4EF6\u5939\uFF0C\u5C06 ",paraId:4,tocIndex:2},{value:"favicon.ico",paraId:4,tocIndex:2},{value:" \u4EE5\u5916\u7684\u6587\u4EF6\uFF0C\u79FB\u52A8\u5230\u8BE5\u6587\u4EF6\u5939\u4E0B\uFF1A",paraId:4,tocIndex:2},{value:"\u56E0\u4E3A\u52A0\u4E86\u4E00\u5C42\u52A8\u6001\u8DEF\u7531\uFF0C\u5982\u679C\u8981\u8BBF\u95EE\u539F\u672C\u7684\u535A\u5BA2\u5217\u8868\u9875\u9762\uFF0C\u9700\u8981\u8BBF\u95EE ",paraId:5,tocIndex:2},{value:"http://localhost:3000/xxx/posts\uFF0C\u6BD4\u5982\uFF1A",paraId:5,tocIndex:2},{value:"\u56E0\u4E3A\u6587\u7AE0\u6807\u9898\u7684\u9875\u9762\u94FE\u63A5\u5730\u5740\u8FD8\u662F\u4E4B\u524D\u7684\uFF0C\u6240\u4EE5\u70B9\u51FB\u94FE\u63A5\u8DF3\u8F6C\u4F1A\u51FA\u73B0\u9519\u8BEF\u3002\u6211\u4EEC\u4FEE\u6539\u4E0B ",paraId:6,tocIndex:2},{value:"app/[lng]/posts/page.js",paraId:6,tocIndex:2},{value:"\uFF0C\u4FEE\u6539\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:6,tocIndex:2},{value:`// ...

function PostCard({ lng, ...post }) {
  return (
    <div className="mb-8">
      <h2 className="mb-1 text-xl">
        <Link
          href={\`/\${lng}\${post.url}\`}
          className="text-blue-700 hover:text-blue-900 dark:text-blue-400"
        >
          {post.title}
        </Link>
      </h2>
      <time dateTime={post.date} className="mb-2 block text-xs text-gray-600">
        {dayjs(post.date).format('DD/MM/YYYY')}
      </time>
    </div>
  );
}

export default function Home({ params: { lng } }) {
  return (
    <div className="mx-auto max-w-xl py-8">
      <h1 className="mb-8 text-center text-2xl font-black">My Blog List</h1>
      {allPosts.map((post, idx) => (
        <PostCard key={idx} lng={lng} {...post} />
      ))}
    </div>
  );
}
`,paraId:7,tocIndex:2},{value:"\u6B64\u65F6\u9875\u9762\u6B63\u5E38\u8DF3\u8F6C\uFF1A",paraId:8,tocIndex:2},{value:"\u4FEE\u6539 ",paraId:9,tocIndex:3},{value:"data/siteMetadata.js",paraId:9,tocIndex:3},{value:"\uFF0C\u6DFB\u52A0 language \u914D\u7F6E\u9879\uFF1A",paraId:9,tocIndex:3},{value:`const siteMetadata = {
  siteUrl: 'https://yayujs.com',
  title: '\u51B4\u7FBD\u7684\u6280\u672F\u535A\u5BA2',
  description: '\u51B4\u7FBD\u7684\u6280\u672F\u535A\u5BA2\uFF0C\u5206\u4EAB\u6280\u672F\u3001\u4E2A\u4EBA\u6210\u957F\u7B49\u5185\u5BB9',
  author: '\u51B4\u7FBD',
  socialBanner:
    'https://cdna.artstation.com/p/assets/images/images/028/138/058/large/z-w-gu-bandageb5f.jpg?1593594749',
  languages: ['zh', 'en'],
  fallbackLanguage: 'zh',
};

export default siteMetadata;
`,paraId:10,tocIndex:3},{value:"\u6211\u4EEC\u65B0\u5EFA\u4E86 2 \u4E2A\u5B57\u6BB5\uFF0Clanguages \u7528\u4E8E\u6307\u5B9A i18n \u652F\u6301\u7684\u8BED\u8A00\uFF0C\u5E76\u636E\u6B64\u751F\u6210\u8BED\u8A00\u5207\u6362\u5668\u3002fallbackLanguage \u7528\u4E8E\u6307\u5B9A\u9ED8\u8BA4\u8BED\u8A00\u3002",paraId:11,tocIndex:3},{value:"\u5B89\u88C5\u4F9D\u8D56\u9879 i18next\uFF1A",paraId:12,tocIndex:3},{value:`npm i i18next
`,paraId:13,tocIndex:3},{value:"\u4FEE\u6539 ",paraId:14,tocIndex:3},{value:"app/[lng]/layout.js",paraId:14,tocIndex:3},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:14,tocIndex:3},{value:`// ...
import { dir } from 'i18next';

// \u6DFB\u52A0\u9759\u6001\u8DEF\u7531
export async function generateStaticParams() {
  return siteMetadata.languages.map((lng) => ({ lng }));
}

// \u4E3A html \u5143\u7D20\u6DFB\u52A0 lang\u3001dir \u5C5E\u6027
export default function RootLayout({ children, params: { lng } }) {
  return (
    <html lang={lng} dir={dir(lng)} suppressHydrationWarning>
      <body>
        <ThemeProviders>
          <header className="flex justify-end">
            <ThemeSwitch />
            <LangSwitch />
          </header>
          {children}
        </ThemeProviders>
      </body>
    </html>
  );
}
`,paraId:15,tocIndex:3},{value:"\u5B89\u88C5\u4F9D\u8D56\u9879 ",paraId:16,tocIndex:4},{value:"accept-language",paraId:16,tocIndex:4},{value:"\uFF1A",paraId:16,tocIndex:4},{value:`npm i accept-language
`,paraId:17,tocIndex:4},{value:"\u8FD9\u662F\u4E00\u4E2A\u5E2E\u52A9\u6211\u4EEC\u5339\u914D\u8BED\u8A00\u7684\u5E93\u3002\u5B83\u7684\u57FA\u672C\u7528\u6CD5\u5982\u4E0B\uFF1A",paraId:18,tocIndex:4},{value:`import acceptLanguage from 'accept-language';
acceptLanguage.languages(['en-US', 'zh-CN']);
console.log(acceptLanguage.get('en-GB,en;q=0.8,sv'));
/* 'en-US' */
`,paraId:19,tocIndex:4},{value:"\u5728\u8FD9\u6BB5\u4EE3\u7801\u4E2D\uFF0C",paraId:20,tocIndex:4},{value:"['en-US', 'zh-CN']",paraId:20,tocIndex:4},{value:"\u8868\u793A\u6211\u4EEC\u652F\u6301\u7684\u8BED\u8A00\uFF0C",paraId:20,tocIndex:4},{value:"'en-GB,en;q=0.8,sv'",paraId:20,tocIndex:4},{value:"\u8868\u793A HTTP \u7684 Accept-Language \u6807\u5934\u3002\u8C03\u7528 get \u65B9\u6CD5\u4F1A\u4ECE\u652F\u6301\u8BED\u8A00\u4E2D\u5339\u914D\u51FA\u5408\u9002\u7684\u8BED\u8A00\u3002",paraId:20,tocIndex:4},{value:"\u9879\u76EE\u6839\u76EE\u5F55\u65B0\u5EFA ",paraId:21,tocIndex:4},{value:"middleware.js",paraId:21,tocIndex:4},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:21,tocIndex:4},{value:`import { NextResponse } from 'next/server';
import acceptLanguage from 'accept-language';
import siteMetadata from './data/siteMetadata';

const { fallbackLanguage, languages } = siteMetadata;
acceptLanguage.languages(languages);

const publicFile = /\\.(.*)$/;
const excludeFile = [];

export const config = {
  matcher: [
    '/((?!api|_next/static|_next/image|assets|favicon.ico|sw.js|site.webmanifest).*)',
  ],
};

function getLocale(req) {
  let language = acceptLanguage.get(req.headers.get('Accept-Language'));
  if (!language) language = fallbackLanguage;
  return language;
}

export function middleware(request) {
  const { pathname } = request.nextUrl;

  // \u5224\u65AD\u8DEF\u5F84\u4E2D\u662F\u5426\u5B58\u5728\u652F\u6301\u7684\u8BED\u8A00
  const filtedLanguage = languages.filter(
    (locale) => pathname.startsWith(\`/\${locale}/\`) || pathname === \`/\${locale}\`,
  );

  if (filtedLanguage.length > 0) {
    if (filtedLanguage[0] === fallbackLanguage) {
      // /zh/xxx \u91CD\u5B9A\u5411\u5230 \`/xxx\`
      const url = pathname.replace(\`/\${fallbackLanguage}\`, '');
      return NextResponse.redirect(new URL(url ? url : '/', request.url));
    }
    // \u5176\u4ED6\u8DF3\u8FC7
    return;
  }

  // \u5982\u679C\u662F public \u6587\u4EF6\uFF0C\u4E0D\u91CD\u5B9A\u5411
  if (
    publicFile.test(pathname) &&
    excludeFile.indexOf(pathname.substr(1)) == -1
  )
    return;

  // \u83B7\u53D6\u5339\u914D\u7684 locale
  const locale = getLocale(request);
  request.nextUrl.pathname = \`/\${locale}\${pathname}\`;

  // \u9ED8\u8BA4\u8BED\u8A00\u4E0D\u91CD\u5B9A\u5411
  if (locale == fallbackLanguage) {
    return NextResponse.rewrite(request.nextUrl);
  }
  // \u91CD\u5B9A\u5411\uFF0C\u5982 /products \u91CD\u5B9A\u5411\u5230 /en/products
  return Response.redirect(request.nextUrl);
}
`,paraId:22,tocIndex:4},{value:"\u8FD9\u91CC\u6211\u4EEC\u81EA\u5B9A\u4E49\u4E86\u4E00\u4E9B\u903B\u8F91\uFF0C\u8BBF\u95EE ",paraId:23,tocIndex:4},{value:"http://localhost:3000/zh",paraId:23,tocIndex:4},{value:"\u4F1A\u91CD\u5B9A\u5411\u5230 ",paraId:23,tocIndex:4},{value:"http://localhost:3000/",paraId:23,tocIndex:4},{value:"\uFF0C\u8BBF\u95EE ",paraId:23,tocIndex:4},{value:"http://localhost:3000",paraId:23,tocIndex:4},{value:"\u56E0\u4E3A\u91CD\u5199\u5230 ",paraId:23,tocIndex:4},{value:"http://localhost:3000/zh",paraId:23,tocIndex:4},{value:"\uFF0C\u6240\u4EE5\u53EF\u4EE5\u6B63\u5E38\u8BBF\u95EE\uFF0C\u4E0D\u4F1A\u51FA\u73B0 404 \u9519\u8BEF\u3002\u5177\u4F53\u6548\u679C\u5982\u4E0B\uFF1A",paraId:23,tocIndex:4},{value:"\u8DEF\u7531\u7684\u914D\u7F6E\u5DF2\u7ECF\u5B8C\u6210\uFF0C\u63A5\u4E0B\u6765\u914D\u7F6E\u7FFB\u8BD1\u76F8\u5173\u7684\u6587\u4EF6\u3002",paraId:24,tocIndex:5},{value:"\u5B89\u88C5\u4F9D\u8D56\u9879\uFF1A",paraId:25,tocIndex:5},{value:`npm i i18next i18next-resources-to-backend react-i18next
`,paraId:26,tocIndex:5},{value:"\u65B0\u5EFA ",paraId:27,tocIndex:5},{value:"next-blog/app/i18n/index.js",paraId:27,tocIndex:5},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:27,tocIndex:5},{value:`import { createInstance } from 'i18next';
import resourcesToBackend from 'i18next-resources-to-backend';
import { initReactI18next } from 'react-i18next/initReactI18next';
import siteMetadata from '@/data/siteMetadata';

const { fallbackLanguage, languages } = siteMetadata;

const initI18next = async (lng = fallbackLanguage, ns = 'basic') => {
  const i18nInstance = createInstance();
  await i18nInstance
    .use(initReactI18next)
    .use(
      resourcesToBackend((language, namespace) =>
        import(\`./locales/\${language}/\${namespace}.json\`),
      ),
    )
    .init({
      // debug: true,
      supportedLngs: languages,
      fallbackLng: fallbackLanguage,
      lng,
      fallbackNS: 'basic',
      defaultNS: 'basic',
      ns,
    });
  return i18nInstance;
};

export async function useTranslation(lng, ns, options = {}) {
  const i18nextInstance = await initI18next(lng, ns);
  return {
    t: i18nextInstance.getFixedT(
      lng,
      Array.isArray(ns) ? ns[0] : ns,
      options.keyPrefix,
    ),
    i18n: i18nextInstance,
  };
}
`,paraId:28,tocIndex:5},{value:"\u51C6\u5907\u7FFB\u8BD1\u6587\u4EF6\uFF1A",paraId:29,tocIndex:5},{value:`app  
\u2514\u2500 i18n  
 \u251C\u2500 locales  
 \u2502 \u251C\u2500 en  
 \u2502 \u2502 \u2514\u2500 basic.json  
 \u2502 \u2514\u2500 zh  
 \u2502 \u2514\u2500 basic.json  
 \u2514\u2500 index.js
`,paraId:30,tocIndex:5},{value:"zh/basic.json",paraId:31,tocIndex:5},{value:"\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:31,tocIndex:5},{value:`{
  "blogList": "\u6211\u7684\u535A\u5BA2\u5217\u8868",
  "like": "\u559C\u6B22"
}
`,paraId:32,tocIndex:5},{value:"en/basic.json",paraId:33,tocIndex:5},{value:"\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:33,tocIndex:5},{value:`{
  "blogList": "My Blog List",
  "like": "like"
}
`,paraId:34,tocIndex:5},{value:"\u4E3A\u4E86\u65B9\u4FBF\u5F15\u5165 useTranslation\uFF0C\u4FEE\u6539 ",paraId:35,tocIndex:5},{value:"jsconfig.json",paraId:35,tocIndex:5},{value:"\uFF0C\u6DFB\u52A0\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:35,tocIndex:5},{value:`{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/data/*": ["data/*"],
      "@/components/*": ["components/*"],
      "@/*": ["/*"],
      "contentlayer/generated": ["./.contentlayer/generated"]
    }
  },
  "include": [
    "next-env.d.js",
    "**/*.js",
    "**/*.jsx",
    ".next/types/**/*.js",
    ".contentlayer/generated"
  ]
}
`,paraId:36,tocIndex:5},{value:"\u4FEE\u6539 ",paraId:37,tocIndex:6},{value:"app/[lng]/posts/page.js",paraId:37,tocIndex:6},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:37,tocIndex:6},{value:`import Link from 'next/link';
import { allPosts } from 'contentlayer/generated';
import dayjs from 'dayjs';
import { useTranslation } from '@/app/i18n/index.js';
import Like from './like';

export const generateMetadata = ({ params }) => {
  return {
    title: '\u535A\u5BA2\u5217\u8868',
    description: '\u8FD9\u662F\u535A\u5BA2\u5217\u8868\u9875\u9762',
    openGraph: {
      title: '\u535A\u5BA2\u5217\u8868',
      description: '\u8FD9\u662F\u535A\u5BA2\u5217\u8868\u9875\u9762',
    },
  };
};

function PostCard({ lng, ...post }) {
  return (
    <div className="mb-8">
      <h2 className="mb-1 text-xl">
        <Link
          href={\`/\${lng}\${post.url}\`}
          className="text-blue-700 hover:text-blue-900 dark:text-blue-400"
        >
          {post.title}
        </Link>
      </h2>
      <time dateTime={post.date} className="mb-2 block text-xs text-gray-600">
        {dayjs(post.date).format('DD/MM/YYYY')}
      </time>
    </div>
  );
}

export default async function Home({ params: { lng } }) {
  const { t } = await useTranslation(lng);
  return (
    <div className="mx-auto max-w-xl py-8">
      <h1 className="mb-8 text-center text-2xl font-black">{t('blogList')}</h1>
      {allPosts.map((post, idx) => (
        <PostCard key={idx} {...post} lng={lng} />
      ))}
    </div>
  );
}
`,paraId:38,tocIndex:6},{value:"\u6B64\u65F6\u535A\u5BA2\u5217\u8868\u9875\u9762\u5DF2\u7ECF\u6210\u529F\u6E32\u67D3\uFF0C\u540C\u65F6\u80FD\u6839\u636E\u8DEF\u7531\u5207\u6362\u7FFB\u8BD1\uFF1A",paraId:39,tocIndex:6},{value:"\u521A\u624D\u7684\u4F7F\u7528\u65B9\u5F0F\u9002\u5408\u670D\u52A1\u7AEF\u7EC4\u4EF6\uFF0C\u5C3D\u53EF\u80FD\u4F7F\u7528\u670D\u52A1\u7AEF\u7EC4\u4EF6\u7684\u65B9\u5F0F\u3002\u4F46\u5982\u679C\u9700\u8981\u5728\u5BA2\u6237\u7AEF\u7EC4\u4EF6\u4E2D\u4F7F\u7528\u5462\uFF1F",paraId:40,tocIndex:7},{value:"\u5B89\u88C5\u7528\u5230\u7684\u5E93\uFF1A",paraId:41,tocIndex:7},{value:`npm i react-cookie i18next-browser-languagedetector
`,paraId:42,tocIndex:7},{value:"\u65B0\u5EFA ",paraId:43,tocIndex:7},{value:"app/i18n/client.js",paraId:43,tocIndex:7},{value:" \uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:43,tocIndex:7},{value:`'use client';

import { useEffect, useState } from 'react';
import i18next from 'i18next';
import {
  initReactI18next,
  useTranslation as useTranslationOrg,
} from 'react-i18next';
import { useCookies } from 'react-cookie';
import resourcesToBackend from 'i18next-resources-to-backend';
import LanguageDetector from 'i18next-browser-languagedetector';
import siteMetadata from '@/data/siteMetadata';

const { fallbackLanguage: defaultLocale, languages: locales } = siteMetadata;
export const cookieName = 'i18next';

const runsOnServerSide = typeof window === 'undefined';

i18next
  .use(initReactI18next)
  .use(LanguageDetector)
  .use(
    resourcesToBackend((language, namespace) =>
      import(\`./locales/\${language}/\${namespace}.json\`),
    ),
  )
  .init({
    supportedLngs: locales,
    fallbackLng: defaultLocale,
    lng: defaultLocale,
    fallbackNS: 'basic',
    defaultNS: 'basic',
    ns: 'basic',
    lng: undefined,
    detection: {
      order: ['path', 'htmlTag', 'cookie', 'navigator'],
    },
    preload: runsOnServerSide ? locales : [],
  });

export function useTranslation(lng, ns, options) {
  const [cookies, setCookie] = useCookies([cookieName]);
  const ret = useTranslationOrg(ns, options);
  const { i18n } = ret;
  if (runsOnServerSide && lng && i18n.resolvedLanguage !== lng) {
    i18n.changeLanguage(lng);
  } else {
    const [activeLng, setActiveLng] = useState(i18n.resolvedLanguage);
    useEffect(() => {
      if (activeLng === i18n.resolvedLanguage) return;
      setActiveLng(i18n.resolvedLanguage);
    }, [activeLng, i18n.resolvedLanguage]);
    useEffect(() => {
      if (!lng || i18n.resolvedLanguage === lng) return;
      i18n.changeLanguage(lng);
    }, [lng, i18n]);
    useEffect(() => {
      if (cookies.i18next === lng) return;
      setCookie(cookieName, lng, { path: '/' });
    }, [lng, cookies.i18next]);
  }
  return ret;
}
`,paraId:44,tocIndex:7},{value:"\u65B0\u5EFA ",paraId:45,tocIndex:7},{value:"app/[lng]/posts/like.js",paraId:45,tocIndex:7},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:45,tocIndex:7},{value:`'use client';

import { useTranslation } from '@/app/i18n/client.js';
export default function Like({ lng }) {
  const { t } = useTranslation(lng, 'basic');
  return <button>{t('like')}</button>;
}
`,paraId:46,tocIndex:7},{value:"\u4FEE\u6539 ",paraId:47,tocIndex:7},{value:"app/[lng]/posts/page.js",paraId:47,tocIndex:7},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:47,tocIndex:7},{value:`import Link from 'next/link';
import { allPosts } from 'contentlayer/generated';
import dayjs from 'dayjs';
import { useTranslation } from '@/app/i18n/index.js';
import Like from './like';

export const generateMetadata = ({ params }) => {
  return {
    title: '\u535A\u5BA2\u5217\u8868',
    description: '\u8FD9\u662F\u535A\u5BA2\u5217\u8868\u9875\u9762',
    openGraph: {
      title: '\u535A\u5BA2\u5217\u8868',
      description: '\u8FD9\u662F\u535A\u5BA2\u5217\u8868\u9875\u9762',
    },
  };
};

function PostCard({ lng, ...post }) {
  return (
    <div className="mb-8">
      <h2 className="mb-1 text-xl">
        <Link
          href={\`/\${lng}\${post.url}\`}
          className="text-blue-700 hover:text-blue-900 dark:text-blue-400"
        >
          {post.title}
        </Link>
      </h2>
      <time dateTime={post.date} className="mb-2 block text-xs text-gray-600">
        {dayjs(post.date).format('DD/MM/YYYY')}
      </time>
      <Like lng={lng} />
    </div>
  );
}

export default async function Home({ params: { lng } }) {
  const { t } = await useTranslation(lng);
  return (
    <div className="mx-auto max-w-xl py-8">
      <h1 className="mb-8 text-center text-2xl font-black">{t('blogList')}</h1>
      {allPosts.map((post, idx) => (
        <PostCard key={idx} {...post} lng={lng} />
      ))}
    </div>
  );
}
`,paraId:48,tocIndex:7},{value:"\u6211\u4EEC\u6DFB\u52A0\u4E86\u4E00\u4E2A\u70B9\u8D5E\u6309\u94AE\u7528\u4E8E\u5BA2\u6237\u7AEF\u7EC4\u4EF6\u7684\u793A\u4F8B\uFF08\u5C3D\u7BA1\u6211\u4EEC\u5E76\u6CA1\u6709\u6DFB\u52A0\u4EFB\u4F55\u4E8B\u4EF6\uFF09\uFF0C\u6B64\u65F6\u6548\u679C\u5982\u4E0B\uFF1A",paraId:49,tocIndex:7},{value:"\u4E0D\u540C\u8BED\u8A00\u4E0B\u7684\u4F7F\u7528\u4E5F\u6CA1\u6709\u95EE\u9898\u3002",paraId:50,tocIndex:7},{value:"\u65B0\u5EFA ",paraId:51,tocIndex:8},{value:"components/LangSwitch.js",paraId:51,tocIndex:8},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:51,tocIndex:8},{value:`'use client';

import { useState, useRef, Fragment, useEffect } from 'react';
import {
  usePathname,
  useParams,
  useRouter,
  useSelectedLayoutSegments,
} from 'next/navigation';
import siteMetadata from '@/data/siteMetadata';
import { Menu, Transition, RadioGroup } from '@headlessui/react';

const { languages } = siteMetadata;

const LangSwitch = () => {
  const urlSegments = useSelectedLayoutSegments();
  const router = useRouter();
  const params = useParams();
  const [locale, setLocal] = useState(params?.lng);

  const handleLocaleChange = (newLocale) => {
    const newUrl = \`/\${newLocale}/\${urlSegments.join('/')}\`;
    return newUrl;
  };

  const handleLinkClick = (newLocale) => {
    const resolvedUrl = handleLocaleChange(newLocale);
    router.push(resolvedUrl);
  };

  return (
    <div className="relative inline-block text-left mr-5">
      <Menu>
        <div>
          <Menu.Button>
            {locale.charAt(0).toUpperCase() + locale.slice(1)}
          </Menu.Button>
        </div>
        <Transition
          as={Fragment}
          enter="transition-all ease-out duration-300"
          enterFrom="opacity-0 scale-95 translate-y-[-10px]"
          enterTo="opacity-100 scale-100 translate-y-0"
          leave="transition-all ease-in duration-200"
          leaveFrom="opacity-100 scale-100 translate-y-0"
          leaveTo="opacity-0 scale-95 translate-y-[10px]"
        >
          <Menu.Items className="absolute right-0 z-50 mt-2 w-12 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none dark:bg-gray-800">
            <RadioGroup value={locale} onChange={handleLinkClick}>
              <div className="py-1">
                {languages.map((newLocale) => (
                  <RadioGroup.Option key={newLocale} value={newLocale}>
                    <Menu.Item>
                      <button className="group flex w-full items-center rounded-md px-2 py-2 text-sm">
                        {newLocale.charAt(0).toUpperCase() + newLocale.slice(1)}
                      </button>
                    </Menu.Item>
                  </RadioGroup.Option>
                ))}
              </div>
            </RadioGroup>
          </Menu.Items>
        </Transition>
      </Menu>
    </div>
  );
};

export default LangSwitch;
`,paraId:52,tocIndex:8},{value:"\u4FEE\u6539 ",paraId:53,tocIndex:8},{value:"app/[lng]/layout.js",paraId:53,tocIndex:8},{value:"\uFF0C\u5F15\u5165 LangSwitch \u7EC4\u4EF6\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:53,tocIndex:8},{value:`// ...
import LangSwitch from '@/components/LangSwitch';

// ...

export default function RootLayout({ children, params: { lng } }) {
  return (
    <html lang={lng} dir={dir(lng)} suppressHydrationWarning>
      <body>
        <ThemeProviders>
          <header className="flex justify-end">
            <ThemeSwitch />
            <LangSwitch />
          </header>
          {children}
        </ThemeProviders>
      </body>
    </html>
  );
}
`,paraId:54,tocIndex:8},{value:"\u6B64\u65F6\u6548\u679C\u5982\u4E0B\uFF1A",paraId:55,tocIndex:8},{value:"metadata \u5982\u4F55\u6839\u636E\u56FD\u9645\u5316\u751F\u6210\u5462\uFF1F\u5176\u5B9E\u7528\u6CD5\u8DDF\u670D\u52A1\u7AEF\u7EC4\u4EF6\u4E00\u6837\u3002",paraId:56,tocIndex:9},{value:"\u6211\u4EEC\u4E3A\u535A\u5BA2\u5217\u8868\u9875\u9762\u6DFB\u52A0\u4E00\u4E2A\u5355\u72EC\u7684\u7FFB\u8BD1\u6587\u4EF6\u3002\u65B0\u5EFA ",paraId:57,tocIndex:9},{value:"app/i18n/locales/en/posts.json",paraId:57,tocIndex:9},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:57,tocIndex:9},{value:`{
  "title": "My Blog List",
  "description": "This is My blog list description"
}
`,paraId:58,tocIndex:9},{value:"\u65B0\u5EFA ",paraId:59,tocIndex:9},{value:"app/i18n/locales/zh/posts.json",paraId:59,tocIndex:9},{value:"\uFF0C\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:59,tocIndex:9},{value:`{
  "title": "\u6211\u7684\u535A\u5BA2\u5217\u8868",
  "description": "\u8FD9\u662F\u6211\u7684\u535A\u5BA2\u5217\u8868\u9875\u9762\u7684\u63CF\u8FF0"
}
`,paraId:60,tocIndex:9},{value:"\u4FEE\u6539 ",paraId:61,tocIndex:9},{value:"app/[lng]/posts/page.js",paraId:61,tocIndex:9},{value:"\uFF0C\u5B8C\u6574\u4EE3\u7801\u5982\u4E0B\uFF1A",paraId:61,tocIndex:9},{value:`import Link from 'next/link';
import { allPosts } from 'contentlayer/generated';
import dayjs from 'dayjs';
import { useTranslation } from '@/app/i18n/index.js';
import Like from './like';

export const generateMetadata = async ({ params: { lng } }) => {
  const { t } = await useTranslation(lng, 'posts');
  return {
    title: t('title'),
    description: t('description'),
    openGraph: {
      title: '\u535A\u5BA2\u5217\u8868',
      description: '\u8FD9\u662F\u535A\u5BA2\u5217\u8868\u9875\u9762',
    },
  };
};

function PostCard({ lng, ...post }) {
  return (
    <div className="mb-8">
      <h2 className="mb-1 text-xl">
        <Link
          href={\`/\${lng}\${post.url}\`}
          className="text-blue-700 hover:text-blue-900 dark:text-blue-400"
        >
          {post.title}
        </Link>
      </h2>
      <time dateTime={post.date} className="mb-2 block text-xs text-gray-600">
        {dayjs(post.date).format('DD/MM/YYYY')}
      </time>
      <Like lng={lng} />
    </div>
  );
}

export default async function Home({ params: { lng } }) {
  const { t } = await useTranslation(lng);
  return (
    <div className="mx-auto max-w-xl py-8">
      <h1 className="mb-8 text-center text-2xl font-black">{t('blogList')}</h1>
      {allPosts.map((post, idx) => (
        <PostCard key={idx} {...post} lng={lng} />
      ))}
    </div>
  );
}
`,paraId:62,tocIndex:9},{value:"\u6B64\u65F6\u6548\u679C\u5982\u4E0B\uFF1A",paraId:63,tocIndex:9},{value:"\u53EF\u4EE5\u770B\u5230\uFF0C\u9875\u9762\u7684\u5143\u6570\u636E\u4E5F\u968F\u4E4B\u53D1\u751F\u4E86\u6539\u53D8\u3002",paraId:64,tocIndex:9},{value:"\u529F\u80FD\u5B9E\u73B0\uFF1A\u535A\u5BA2\u652F\u6301\u56FD\u9645\u5316",paraId:65,tocIndex:10},{value:"\u6E90\u7801\u5730\u5740\uFF1A",paraId:65,tocIndex:10},{value:"https://github.com/mqyqingfeng/next-app-demo/tree/next-blog-4",paraId:65,tocIndex:10},{value:"\u4E0B\u8F7D\u4EE3\u7801\uFF1A",paraId:65,tocIndex:10},{value:"git clone -b next-blog-4 git@github.com:mqyqingfeng/next-app-demo.git",paraId:65,tocIndex:10},{value:"\u5176\u5B9E\u672C\u7BC7\u8DDF",paraId:66,tocIndex:11},{value:"\u300A\u5B9E\u6218\u7BC7 | React Notes | \u56FD\u9645\u5316\u300B",paraId:66,tocIndex:11},{value:"\u4E2D\u7684\u5B9E\u73B0\u4EE3\u7801\u975E\u5E38\u7C7B\u4F3C\u3002\u4F7F\u7528 react-i18next \u867D\u7136\u914D\u7F6E\u7E41\u7410\uFF0C\u4F46\u81EA\u7531\u5EA6\u66F4\u9AD8\uFF0C\u53EF\u4EE5\u6839\u636E\u81EA\u5DF1\u7684\u9700\u6C42\u81EA\u5B9A\u4E49\u6548\u679C\u3002",paraId:66,tocIndex:11}]}}]);

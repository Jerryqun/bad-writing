"use strict";(self.webpackChunkblog_cq=self.webpackChunkblog_cq||[]).push([[5066],{29167:function(d,t,e){e.r(t);var _=e(72269),o=e(93359),m=e(61788),c=e(19977),h=e(91558),s=e(24268),v=e(96057),x=e(85939),i=e(53683),l=e(80936),r=e(67294),a=e(76151),n=e(85893);function u(){return(0,n.jsx)(i.dY,{children:(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(l.Z,{}),children:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"markdown",children:[(0,n.jsxs)("h2",{id:"js-\u52A8\u6001\u751F\u6210\u6D77\u62A5",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#js-\u52A8\u6001\u751F\u6210\u6D77\u62A5",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"js \u52A8\u6001\u751F\u6210\u6D77\u62A5"]}),(0,n.jsxs)("p",{children:[a.texts[0].value,(0,n.jsx)("br",{}),a.texts[1].value]}),(0,n.jsx)("p",{children:a.texts[2].value}),(0,n.jsxs)("p",{children:[a.texts[3].value,(0,n.jsx)("br",{}),a.texts[4].value]}),(0,n.jsxs)("p",{children:[a.texts[5].value,(0,n.jsx)("br",{}),a.texts[6].value]}),(0,n.jsxs)("p",{children:[a.texts[7].value,(0,n.jsx)("br",{}),a.texts[8].value,(0,n.jsx)("code",{children:a.texts[9].value}),a.texts[10].value]}),(0,n.jsxs)("h2",{id:"\u65B9\u6848\u4E00-demo",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u65B9\u6848\u4E00-demo",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u65B9\u6848\u4E00 demo"]}),(0,n.jsxs)("p",{children:[a.texts[11].value,(0,n.jsx)("a",{href:"https://html2canvas.hertzen.com/",children:a.texts[12].value})]}),(0,n.jsx)(s.Z,{lang:"js",children:a.texts[13].value})]})})})})}t.default=u},76151:function(d,t,e){e.r(t),e.d(t,{texts:function(){return _}});const _=[{value:"\u65B9\u6848\u4E00\uFF1ADOM->canvas->image",paraId:0,tocIndex:0},{value:`
\u5C06\u76EE\u6807 DOM \u8282\u70B9\u7ED8\u5236\u5230 canvas \u753B\u5E03\uFF0C\u7136\u540E\u5229\u7528 canvas \u76F8\u5173\u7684 API \u4EE5\u56FE\u7247\u5F62\u5F0F\u5BFC\u51FA\u3002`,paraId:0,tocIndex:0},{value:"\u53EF\u7B80\u5355\u6807\u8BB0\u4E3A\u7ED8\u5236\u9636\u6BB5\u548C\u5BFC\u51FA\u9636\u6BB5\u4E24\u4E2A\u6B65\u9AA4\uFF1A",paraId:1,tocIndex:0},{value:"\u7ED8\u5236\u9636\u6BB5\uFF1A\u9009\u62E9\u5E0C\u671B\u7ED8\u5236\u7684 DOM \u8282\u70B9\uFF0C\u6839\u636E DOM \u7684 nodeType \u5C5E\u6027\u8C03\u7528 canvas \u5BF9\u8C61\u7684\u5BF9\u5E94 API\uFF0C\u5C06\u76EE\u6807 DOM \u8282\u70B9\u7ED8\u5236\u5230 canvas \u753B\u5E03\uFF08\u4F8B\u5982\u5BF9\u4E8E img \u6807\u7B7E\u7684\u7ED8\u5236\u4F7F\u7528 drawImage \u65B9\u6CD5)\u3002",paraId:2,tocIndex:0},{value:`
\u5BFC\u51FA\u9636\u6BB5\uFF1A\u901A\u8FC7 canvas \u7684 toDataURL \u6216 getImageData \u7B49\u5BF9\u5916\u63A5\u53E3\uFF0C\u6700\u7EC8\u5B9E\u73B0\u753B\u5E03\u5185\u5BB9\u7684\u5BFC\u51FA\u3002`,paraId:2,tocIndex:0},{value:"\u65B9\u6848\u4E8C\uFF1ADOM->svg->canvas->image",paraId:3,tocIndex:0},{value:`
\u5C06 html \u4F5C\u4E3A svg \u7684\u5916\u8054\u5143\u7D20\uFF0C\u5229\u7528 svg \u7684 API \u5BFC\u51FA\u4E3A\u56FE\u7247`,paraId:3,tocIndex:0},{value:"\u65B9\u6848\u4E09\uFF1A\u4F7F\u7528 NodeJS \u8C03\u7528\u6D4F\u89C8\u5668\u65B9\u6CD5",paraId:4,tocIndex:0},{value:`
\u5728\u540E\u7AEF\u751F\u6210\u6D77\u62A5\uFF0C\u6BD4\u5982\u53EF\u4EE5\u4F7F\u7528 nodeJS\uFF0C\u901A\u8FC7 puppter \u7B49\u5E93\uFF0C\u8C03\u7528\u6D4F\u89C8\u5668\u7684 page \u5BF9\u8C61\uFF0C`,paraId:4,tocIndex:0},{value:"\u57FA\u4E8E page.screenshots \u622A\u56FE\u5E76\u4FDD\u5B58\u5230\u78C1\u76D8",paraId:4,tocIndex:0},{value:"\u3002",paraId:4,tocIndex:0},{value:"html2canvas ",paraId:5,tocIndex:1},{value:"https://html2canvas.hertzen.com/",paraId:5,tocIndex:1},{value:`<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.js"><\/script>

    <title>Document</title>
</head>

<img>
<div id="capture" style="padding: 10px; background: #f5da55">
    <h4 style="color: #000; ">Hello world!</h4>
</div>

<img style="width: 100%;height: 100%;" id="canvasImage"></img>

</body>
<script>
    html2canvas(document.querySelector("#capture")).then(canvas => {
        document.body.appendChild(canvas)
        const imageURL = canvas.toDataURL('image/png');
        const img = document.getElementById('canvasImage');
        img.src = imageURL;


        // \u521B\u5EFA\u4E00\u4E2A\u4E0B\u8F7D\u94FE\u63A5
        const link = document.createElement('a');
        link.href = imageURL;
        link.download = 'canvas-image.png'; // \u8BBE\u7F6E\u4E0B\u8F7D\u6587\u4EF6\u540D
        // link.click(); // \u81EA\u52A8\u89E6\u53D1\u4E0B\u8F7D

    });
<\/script>

</html>
`,paraId:6,tocIndex:1}]}}]);

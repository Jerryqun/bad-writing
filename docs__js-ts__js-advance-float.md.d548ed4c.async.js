"use strict";(self.webpackChunkblog_cq=self.webpackChunkblog_cq||[]).push([[2470],{60308:function(i,d,t){t.r(d);var a=t(72269),o=t(93359),x=t(61788),c=t(19977),m=t(91558),_=t(24268),v=t(96057),h=t(85939),u=t(53683),s=t(80936),r=t(67294),e=t(92418),n=t(85893);function l(){return(0,n.jsx)(u.dY,{children:(0,n.jsx)(r.Suspense,{fallback:(0,n.jsx)(s.Z,{}),children:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"markdown",children:[(0,n.jsxs)("h2",{id:"\u8BA1\u7B97\u7CBE\u5EA6\u95EE\u9898",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u8BA1\u7B97\u7CBE\u5EA6\u95EE\u9898",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u8BA1\u7B97\u7CBE\u5EA6\u95EE\u9898"]}),(0,n.jsx)("p",{children:(0,n.jsx)("a",{target:"_blank",href:"https://juejin.cn/post/6844903572979597319",children:e.texts[0].value})}),(0,n.jsx)("ul",{children:(0,n.jsxs)("li",{children:[(0,n.jsxs)("p",{children:[e.texts[1].value,(0,n.jsx)("br",{}),e.texts[2].value,(0,n.jsx)("code",{children:e.texts[3].value}),e.texts[4].value]}),(0,n.jsx)("p",{children:e.texts[5].value})]})}),(0,n.jsx)("p",{children:e.texts[6].value}),(0,n.jsxs)("p",{children:[e.texts[7].value,(0,n.jsx)("code",{children:e.texts[8].value}),e.texts[9].value]}),(0,n.jsxs)("p",{children:[e.texts[10].value,(0,n.jsx)("br",{}),e.texts[11].value,(0,n.jsx)("br",{}),e.texts[12].value,(0,n.jsx)("br",{}),e.texts[13].value]}),(0,n.jsx)(_.Z,{lang:"bash",children:e.texts[14].value}),(0,n.jsx)("p",{children:e.texts[15].value}),(0,n.jsx)(_.Z,{lang:"bash",children:e.texts[16].value}),(0,n.jsx)("p",{children:e.texts[17].value}),(0,n.jsxs)("h2",{id:"\u89E3\u51B3\u529E\u6CD5",children:[(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",href:"#\u89E3\u51B3\u529E\u6CD5",children:(0,n.jsx)("span",{className:"icon icon-link"})}),"\u89E3\u51B3\u529E\u6CD5"]}),(0,n.jsx)("ol",{children:(0,n.jsx)("li",{children:e.texts[18].value})}),(0,n.jsx)(_.Z,{lang:"js",children:e.texts[19].value}),(0,n.jsx)("ol",{start:"2",children:(0,n.jsx)("li",{children:e.texts[20].value})}),(0,n.jsx)(_.Z,{lang:"js",children:e.texts[21].value})]})})})})}d.default=l},92418:function(i,d,t){t.r(d),t.d(d,{texts:function(){return a}});const a=[{value:"\u53C2\u8003",paraId:0,tocIndex:0},{value:"\u539F\u56E0",paraId:1,tocIndex:0},{value:`
JavaScript \u4E2D\u7684\u6D6E\u70B9\u6570\u8FD0\u7B97\u4E0D\u6B63\u786E\u95EE\u9898\uFF0C\u6BD4\u5982 0.1 + 0.2 !== 0.3 \u7684\u73B0\u8C61\uFF0C\u662F\u7531\u4E8E\u8BA1\u7B97\u673A\u5185\u90E8\u91C7\u7528\u4E8C\u8FDB\u5236\u6765\u8868\u793A\u548C\u8BA1\u7B97\u6570\u5B57\u9020\u6210\u7684\u3002\u8FD9\u4E2A\u95EE\u9898\u5E76\u975E\u7279\u5B9A\u4E8E JavaScript\uFF0C\u800C\u662F\u51E0\u4E4E\u6240\u6709\u4F7F\u7528 `,paraId:1,tocIndex:0},{value:"IEEE 754",paraId:1,tocIndex:0},{value:" \u6807\u51C6\u6D6E\u70B9\u6570\u8868\u793A\u6CD5\u7684\u7F16\u7A0B\u8BED\u8A00\u6240\u5171\u6709\u7684(JAVA, Python)\u3002",paraId:1,tocIndex:0},{value:"\u5728\u4E8C\u8FDB\u5236\u4E2D\uFF0C\u50CF 0.1 \u6216 0.2 \u8FD9\u6837\u7684\u5206\u6570\u5E76\u4E0D\u80FD\u7CBE\u786E\u8868\u793A\uFF0C\u5C31\u50CF\u5728\u5341\u8FDB\u5236\u4E2D\u6211\u4EEC\u4E0D\u80FD\u7CBE\u786E\u8868\u793A 1/3\uFF08\u5B83\u7B49\u4E8E 0.3333\u2026\uFF09\u3002\u5F53\u6211\u4EEC\u5728 JavaScript \u4E2D\u6267\u884C 0.1 + 0.2 \u65F6\uFF0C\u7531\u4E8E\u4E8C\u8FDB\u5236\u4E0B\u7684\u8FD9\u79CD\u8FD1\u4F3C\u8868\u793A\uFF0C\u5176\u7ED3\u679C\u53D8\u6210\u4E86\u4E00\u4E2A\u4E0E\u671F\u5F85\u7684 0.3 \u7565\u6709\u4E0D\u540C\u7684\u6D6E\u70B9\u6570\uFF0C\u5927\u7EA6\u662F 0.30000000000000004\u3002",paraId:2,tocIndex:0},{value:"\u90A3\u4E48 JavaScript \u5728\u8BA1\u7B97 0.1+0.2 \u65F6\u5230\u5E95\u53D1\u751F\u4E86\u4EC0\u4E48\u5462\uFF1F",paraId:3,tocIndex:0},{value:"\u9996\u5148\uFF0C\u5341\u8FDB\u5236\u7684 0.1 \u548C 0.2 \u4F1A\u88AB\u8F6C\u6362\u6210\u4E8C\u8FDB\u5236\u7684\uFF0C\u4F46\u662F\u7531\u4E8E",paraId:4,tocIndex:0},{value:"0.1\u548C0.2\u7528\u4E8C\u8FDB\u5236\u8868\u793A\u65F6\u662F\u65E0\u7A77\u7684",paraId:4,tocIndex:0},{value:"\uFF1A",paraId:4,tocIndex:0},{value:`\u80FD\u7CBE\u786E\u8868\u793A\u7684\u6570
\u5982\uFF1A`,paraId:5,tocIndex:0},{value:`
0.5 = 1/2`,paraId:5,tocIndex:0},{value:`
0.25 = 1/4`,paraId:5,tocIndex:0},{value:`
0.125 = 1/8`,paraId:5,tocIndex:0},{value:`0.1 -> 0.0001 1001 1001 1001...(1100\u5FAA\u73AF)
0.2 -> 0.0011 0011 0011 0011...(0011\u5FAA\u73AF)
`,paraId:6,tocIndex:0},{value:"IEEE 754 \u6807\u51C6\u7684 64 \u4F4D\u53CC\u7CBE\u5EA6\u6D6E\u70B9\u6570\u7684\u5C0F\u6570\u90E8\u5206\u6700\u591A\u652F\u6301 53 \u4F4D\u4E8C\u8FDB\u5236\u4F4D\uFF0C\u6240\u4EE5\u4E24\u8005\u76F8\u52A0\u4E4B\u540E\u5F97\u5230\u4E8C\u8FDB\u5236\u4E3A\uFF1A",paraId:7,tocIndex:0},{value:`0.0100110011001100110011001100110011001100110011001100

`,paraId:8,tocIndex:0},{value:"\u56E0\u6D6E\u70B9\u6570\u5C0F\u6570\u4F4D\u7684\u9650\u5236\u800C\u622A\u65AD\u7684\u4E8C\u8FDB\u5236\u6570\u5B57\uFF0C\u518D\u8F6C\u6362\u4E3A\u5341\u8FDB\u5236\uFF0C\u5C31\u6210\u4E86 0.30000000000000004\u3002\u6240\u4EE5\u5728\u8FDB\u884C\u7B97\u672F\u8BA1\u7B97\u65F6\u4F1A\u4EA7\u751F\u8BEF\u5DEE\u3002",paraId:9,tocIndex:0},{value:"\u4F7F\u7528\u7B2C\u4E09\u65B9\u5E93",paraId:10,tocIndex:1},{value:`/**
 * \u4F7F\u7528bignumber.js\u89E3\u51B3 \uFF08mathjs\u76F8\u5BF9\u8981\u5927\uFF09
 * https://www.npmjs.com/package/bignumber.js
 */

/**
 * \u52A0\u6CD5 =====================
0.1 + 0.2 = 0.30000000000000004
0.7 + 0.1 = 0.7999999999999999
0.2 + 0.4 = 0.6000000000000001
 */

/**
 * \u51CF\u6CD5 =====================
1.5 - 1.2 = 0.30000000000000004
0.3 - 0.2 = 0.09999999999999998
 */

/**
 * \u4E58\u6CD5 =====================
19.9 * 100 = 1989.9999999999998
0.8 * 3 = 2.4000000000000004
35.41 * 100 = 3540.9999999999995
 */

/**
 * \u9664\u6CD5 =====================
0.3 / 0.1 = 2.9999999999999996
0.69 / 10 = 0.06899999999999999
 */

// \u52A0\u6CD5\u89E3\u51B3(plus)
import BigNumber from 'bignumber.js';
const x = new BigNumber(0.1);
const y = new BigNumber(0.2);
const sum = x.plus(y);
console.log('sum: ', sub.toString());

// \u51CF\u6CD5\u89E3\u51B3(minus)
import BigNumber from 'bignumber.js';
const x = new BigNumber(1.5);
const y = new BigNumber(1.2);
const reduce = x.minus(y);
console.log('reduce: ', reduce.toString());

// \u4E58\u6CD5\u89E3\u51B3(multipliedBy)
import BigNumber from 'bignumber.js';
const x = new BigNumber(19.9);
const y = new BigNumber(100);
const multipliedBy = x.multipliedBy(y);
console.log('multipliedBy: ', multipliedBy.toString()); // 1990

// \u9664\u6CD5\u89E3\u51B3(dividedBy)
import BigNumber from 'bignumber.js';
const x = new BigNumber(0.3);
const y = new BigNumber(0.1);
const dividedBy = x.dividedBy(y);
console.log('mod: ', dividedBy.toString()); // 3
`,paraId:11,tocIndex:1},{value:"\u5C06\u6D6E\u70B9\u6570\u8F6C\u6362\u4E3A\u6574\u6570\u8BA1\u7B97",paraId:12,tocIndex:1},{value:`let result = (0.1 * 100 + 0.2 * 100) / 100; // 0.3
`,paraId:13,tocIndex:1}]}}]);
